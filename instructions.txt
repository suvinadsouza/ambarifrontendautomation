A.install instructions:

1.install the sshpass rpm on all cluster nodes:

for power:
wget ftp://rpmfind.net/linux/fedora-secondary/releases/26/Everything/ppc64le/os/Packages/s/sshpass-1.06-2.fc26.ppc64le.rpm
yum install -y sshpass-1.06-2.fc26.ppc64le.rpm
yum repolist all

for rhel6 x86:
wget ftp://195.220.108.108/linux/dag/redhat/el6/en/x86_64/dag/RPMS/sshpass-1.05-1.el6.rf.x86_64.rpm
yum install -y sshpass-1.05-1.el6.rf.x86_64.rpm
yum repolist all

for rhel7 x86:
wget ftp://195.220.108.108/linux/fedora/linux/releases/26/Everything/x86_64/os/Packages/s/sshpass-1.06-2.fc26.x86_64.rpm
yum install -y sshpass-1.06-2.fc26.x86_64.rpm
yum repolist all

2. for power systems, on all nodes
For power: on all nodes
wget -P /usr/jdk64 http://birepo-build.svl.ibm.com/repos/IOP-UTILS/RHEL7/ppc64le/1.3/openjdk/jdk-1.8.0.tar.gz
cd /usr/jdk64
tar -zxvf jdk-1.8.0.tar.gz
java home to be given during ambari setup: /usr/jdk64/java-1.8.0-openjdk-1.8.0.121-0.b13.el7_3.ppc64le

3.to avoid RHN issues, on all nodes do
For RHEL 6 x86
wget -P /etc/yum.repos.d http://sherlock.svl.ibm.com/install/rhel-repos/devit-rh6-x86_64.repo
yum repolist all


For RHEL 7, x86: 
wget -P /etc/yum.repos.d http://sherlock.svl.ibm.com/install/rhel-repos/devit-rh7-x86_64.repo
yum repolist all

4. 
on ambari server node
ls -l /tmp/installautomation
rm -rf /tmp/installautomation
mkdir /tmp/installautomation
chmod 777 -R /tmp/installautomation

create a file called /tmp/installautomation/hostdetails.txt
using winscp copy all the scripts and the hostdetails.txt file on the ambari server node

5.
cd /tmp/installautomation
chmod 777 -R /tmp/installautomation
chmod 777 ambariSetup.sh
sed -i -e 's/\r$//' ambariSetup.sh

./ambariSetup.sh /tmp/installautomation/hostdetails.txt Root

OR

./ambariSetup.sh /tmp/installautomation/hostdetails.txt NonRoot


B.cleanup instructions:---THIS IS WORK IN PROGRESS, DO NOT EXECUTE THIS AS OF NOW
sudo chmod 777 /tmp/installautomation/*.sh
sudo sed -i -e 's/\r$//' bigsqlcleanup_non_root_user.sh
scp bigsqlcleanup_non_root_user.sh root@upmctest-standbyupmct.fyre.ibm.com:/tmp/installautomation/
/tmp/installautomation/bigsqlcleanup_non_root_user.sh


------------------------
The script is used to the following for both root and non root user ambari setup.
It works on intel and power systems
It can be executed from a single node and can be used for any number of cluster nodes

1.setup SSH
2.performs neccessary prerequisite setups
3.creates non root user and modifies sudoers file
4.ldap configuration
5.ambari-agent installs
6.ambari-server install
7.two way ssl setup between agents and server
8.ambari server ssl setup
9.local kerberos server setup
10.removal of root passwordless ssh ( for non root setups) 